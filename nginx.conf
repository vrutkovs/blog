user nobody nobody;
daemon off;
error_log /dev/stdout info;
pid /dev/null;
events {}
http {
    access_log /dev/stdout;
    server {
        listen @nginxPort@;
        return 301 https://$host$request_uri;
    }

    server {
        listen @nginxPortSSL@ ssl;
        ssl_certificate certs/cert.pem;
        ssl_certificate_key certs/key.pem;

        index index.html;
        gzip_http_version 1.0;
        gzip_static on;
        gunzip      on;
        location / {
            include @nginxPath@/conf/mime.types;
            root @nginxRoot@;

            add_header Cache-Control public;
            add_header Cache-Control "max-age=432000";
        }
        add_header X-Frame-Options "DENY";
        add_header X-Content-Type-Options "nosniff";
        add_header X-XSS-Protection "1; mode=block";
        add_header Content-Security-Policy "default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; font-src 'self'; connect-src 'self';";
        add_header Strict-Transport-Security "max-age=31536000; includeSubDomains";
        add_header Referrer-Policy "strict-origin-when-cross-origin";
        add_header Permissions-Policy "camera=(), microphone=(), geolocation=()";
    }
}
